# Define sources up top so we make clear that identifiers for a source are universal
#  ... but remember that I don't necessarily want identifiers to be defined... could be optional

sources:
#  - name: itk_api.students
  itk_api.students:
    values: # set default values that apply across all factories
      zipcode: 12345
      some_uuid: # don't think this is particularly valueable.  Could always use a misc identifier
        generator: unique_uuid
      organization_id:
        identifier: organization
        attribute: id


    # This format has keys that are the columns of the tables, and shows how they relate to an identifier
    identifiers:
      id:
        name: student
        attribute: id
      uuid:
        name: student
        attribute: uuid
      organization_id:
        name: organization
        attribute: id

    # This format has keys that are the names of identifiers, and shows how they map to columns
    #    I think I like this one better
    #    actually, maybe not.  This mapping would have to be inverted by both code and user
    identifiers:
      student:
        id: id
        uuid: uuid
      organization:
        id: organization_id

    # or even this, where I use dot notation to specify attributes
    #  basically the same as option 1.  I don't think the code should be sensitive to which version
    identifiers:
      id: student.id
      uuid: student.uuid
      organization_id: organization.id

factories:
#  - name: CanonicalStudent
  CanonicalStudent:
    description: Simple easy student

    data:
      itk_api.students:
        table: |
          | id | uuid | organization_id | first_name |
          | -  | -    | -               | -          |
          | s1 | s1   | o1              | Bob        |


  StudentWithoutName:
    description: Simple easy student, but missing a name

    data:
      itk_api.students:
        table: |
          | id | uuid | organization_id | first_name |
          | -  | -    | -               | -          |
          | s1 | s1   | o1              |            |
